(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{352:function(t,e,n){var content=n(378);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("345ee0c2",content,!0,{sourceMap:!1})},377:function(t,e,n){"use strict";var o=n(352);n.n(o).a},378:function(t,e,n){(t.exports=n(12)(!1)).push([t.i,".nudity-settings .settings-fields{overflow:hidden;overflow-y:auto;display:flex;flex-wrap:wrap}.nudity-settings .settings-fields section{width:50%;margin-bottom:.75rem;padding-left:.75rem;padding-right:.75rem}.nudity-settings .settings-loading{text-align:center}.nudity-settings .settings-loading .title{font-weight:700;font-size:1.875rem}.nudity-settings .settings-loading .subtitle{color:#718096;font-size:1.25rem}.nudity-settings .settings-cli{margin-top:1.5rem;background-color:#000;padding:1rem;width:100%;font-family:Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;overflow-y:auto;height:150px}.nudity-settings .settings-cli .cli-line{display:block;color:#fff}",""])},383:function(t,e,n){"use strict";n.r(e);n(31),n(19);var o,r,c,l=n(3),d=n(8),h=n.n(d),m=(n(0),{middleware:"nudity",data:function(){return{isLoading:!1,gpuList:[],settings:{useCpu:!1,useGpus:[],useWaifu:!1,enablePubes:!0,useCustomGpu:!1,customGpuId:0}}},computed:{deviceName:function(){return this.settings.useCpu?"CPU":"GPU"}},watch:{"$nudity.modelPhoto.cliLines":function(){var t=this;this.$nextTick(function(){t.$refs.cli.scrollTo(0,t.$refs.cli.scrollHeight)})}},created:(c=Object(l.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getGpusList();case 2:this.restoreSettings();case 3:case"end":return t.stop()}},t,this)})),function(){return c.apply(this,arguments)}),methods:{getConfig:function(t,e){var n=localStorage.getItem("process-settings");n=h.a.isNil(n)?{}:JSON.parse(n);var o=h.a.get(n,t);return h.a.isNil(o)&&(o=h.a.isFunction(e)?e.call(this):e,this.setConfig(t,o)),o},setConfig:function(t,e){var n=localStorage.getItem("process-settings");(n=h.a.isNil(n)?{}:JSON.parse(n))[t]=e,localStorage.setItem("process-settings",JSON.stringify(n))},restoreSettings:function(){var t=this;this.settings={useCpu:this.getConfig("useCpu",0===this.gpuList.length),useGpus:this.getConfig("useGpus",function(){return t.gpuList.length>0?[0]:[]}),useWaifu:this.getConfig("useWaifu",!1),enablePubes:this.getConfig("enablePubes",!0),useCustomGpu:this.getConfig("useCustomGpu",!1),customGpuId:this.getConfig("customGpuId",0)}},saveSettings:function(){localStorage.setItem("process-settings",JSON.stringify(this.settings))},getGpusList:(r=Object(l.a)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.deepTools.getGpusList();case 3:e=t.sent,this.gpuList=h.a.filter(e,{AdapterCompatibility:"NVIDIA"}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}},t,this,[[0,7]])})),function(){return r.apply(this,arguments)}),transform:(o=Object(l.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.saveSettings(),this.settings.useCustomGpu&&this.settings.useGpus.push(this.settings.customGpuId),this.isLoading=!0,t.prev=3,t.next=6,this.$nudity.transform(this.settings);case 6:this.$router.push("/nudity/results"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),alert(t.t0);case 12:return t.prev=12,this.isLoading=!1,t.finish(12);case 15:case"end":return t.stop()}},t,this,[[3,9,12,15]])})),function(){return o.apply(this,arguments)})}}),f=(n(377),n(6)),component=Object(f.a)(m,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nudity-settings",staticStyle:{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}},[n("div",{staticClass:"content-body"},[n("nudity-preview",{staticClass:"mb-5",attrs:{type:"cropped"}}),t._v(" "),t.isLoading?n("div",{staticClass:"settings-loading"},[n("h1",{staticClass:"title"},[t._v(t._s(t.$nudity.transformation.duration)+"s")]),t._v(" "),n("h1",{staticClass:"title"},[t._v("Loading...")]),t._v(" "),n("h3",{staticClass:"subtitle"},[t._v("Transforming your photo with the power of your "+t._s(t.deviceName)+"!")]),t._v(" "),n("div",{ref:"cli",staticClass:"settings-cli"},t._l(t.$nudity.modelPhoto.cliLines,function(line,e){return n("p",{key:e,staticClass:"cli-line"},[t._v(t._s(line))])}),0)]):n("div",{staticClass:"settings-fields"},[n("section",[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Process Device:")]),t._v(" "),n("div",{staticClass:"field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.useCpu,expression:"settings.useCpu"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.useCpu)?t._i(t.settings.useCpu,null)>-1:t.settings.useCpu},on:{change:function(e){var n=t.settings.useCpu,o=e.target,r=!!o.checked;if(Array.isArray(n)){var c=t._i(n,null);o.checked?c<0&&t.$set(t.settings,"useCpu",n.concat([null])):c>-1&&t.$set(t.settings,"useCpu",n.slice(0,c).concat(n.slice(c+1)))}else t.$set(t.settings,"useCpu",r)}}}),t._v("\n            CPU\n            "),t._m(0)]),t._v(" "),t._l(t.gpuList,function(e,o){return n("div",{key:o,staticClass:"field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.useGpus,expression:"settings.useGpus"}],attrs:{type:"checkbox",disabled:t.settings.useCpu},domProps:{value:o,checked:Array.isArray(t.settings.useGpus)?t._i(t.settings.useGpus,o)>-1:t.settings.useGpus},on:{change:function(e){var n=t.settings.useGpus,r=e.target,c=!!r.checked;if(Array.isArray(n)){var l=o,d=t._i(n,l);r.checked?d<0&&t.$set(t.settings,"useGpus",n.concat([l])):d>-1&&t.$set(t.settings,"useGpus",n.slice(0,d).concat(n.slice(d+1)))}else t.$set(t.settings,"useGpus",c)}}}),t._v("\n            "+t._s(e.Caption||e.Name||e.Description||e.VideoProcessor)+"\n          ")])}),t._v(" "),n("div",{staticClass:"field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.useCustomGpu,expression:"settings.useCustomGpu"}],attrs:{type:"checkbox",disabled:t.settings.useCpu},domProps:{checked:Array.isArray(t.settings.useCustomGpu)?t._i(t.settings.useCustomGpu,null)>-1:t.settings.useCustomGpu},on:{change:function(e){var n=t.settings.useCustomGpu,o=e.target,r=!!o.checked;if(Array.isArray(n)){var c=t._i(n,null);o.checked?c<0&&t.$set(t.settings,"useCustomGpu",n.concat([null])):c>-1&&t.$set(t.settings,"useCustomGpu",n.slice(0,c).concat(n.slice(c+1)))}else t.$set(t.settings,"useCustomGpu",r)}}}),t._v("\n            Custom GPU ID\n            "),n("p",{staticClass:"field-help"},[t._v("Select this option if you want to use a GPU that is not in the list.")])]),t._v(" "),n("div",{staticClass:"field"},[t.settings.useCustomGpu?n("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.customGpuId,expression:"settings.customGpuId"}],staticClass:"input",attrs:{type:"number",min:"0"},domProps:{value:t.settings.customGpuId},on:{input:function(e){e.target.composing||t.$set(t.settings,"customGpuId",e.target.value)}}}):t._e()])],2)]),t._v(" "),n("section",[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Options:")]),t._v(" "),n("div",{staticClass:"field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.enablePubes,expression:"settings.enablePubes"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.enablePubes)?t._i(t.settings.enablePubes,null)>-1:t.settings.enablePubes},on:{change:function(e){var n=t.settings.enablePubes,o=e.target,r=!!o.checked;if(Array.isArray(n)){var c=t._i(n,null);o.checked?c<0&&t.$set(t.settings,"enablePubes",n.concat([null])):c>-1&&t.$set(t.settings,"enablePubes",n.slice(0,c).concat(n.slice(c+1)))}else t.$set(t.settings,"enablePubes",r)}}}),t._v("\n            Enable Pubic Hair\n          ")])])]),t._v(" "),t._e(),t._v(" "),n("div",{staticClass:"buttons"},[n("nuxt-link",{staticClass:"button is-danger",attrs:{to:"/nudity/crop"}},[t._v("Back")]),t._v(" "),n("button",{staticClass:"button",on:{click:function(e){return e.preventDefault(),t.transform(e)}}},[t._v("Start!")])],1)])],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"field-help"},[this._v("Force CPU processing. (Slower) Select this option if "),e("strong",[this._v("you do not have")]),this._v(" an NVIDIA GPU!")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"field-help"},[this._v("waifu2x will try to resize your transformed photo to "),e("strong",[this._v("1024x1024")]),this._v(" with the least possible quality loss. Keep in mind that as its name indicates, the program is not designed to work with real people so there may be some minor changes in your photo.")])}],!1,null,null,null);e.default=component.exports}}]);